---
layout: default
title: 站立姿态控制 (膝关节受限)
nav_order: 4.0
parent: 任务描述
has_toc: true
---

# 站立姿态控制 (膝关节受限)

## 任务信息

任务值 (TID): **4300**

任务描述：

- 机器人缓慢移动各个关节恢复到站立姿态。

任务参数：

| 接口参数      | 类型      | 默认值 | 参数范围       | 描述                      |
|-----------|---------|-----|------------|-------------------------|
| 大腿长度      | `float` | 0.5 | [0.3, 0.6] | 机器人的大腿长度，单位为 m。         |
| 小腿长度      | `float` | 0.5 | [0.3, 0.6] | 机器人的小腿长度，单位为 m。         |
| 左腿膝关节受限角度 | `float` | 0.0 | [0.0, 1.0] | 左腿膝关节的最大受限角度，单位为弧度 rad。 |
| 右腿膝关节受限角度 | `float` | 0.0 | [0.0, 1.0] | 右腿膝关节的最大受限角度，单位为弧度 rad。 |

## 模块信息

| 模块值 (MID) | 模块指令 | 模块描述 | 涉及关节 |
|-----------|------|------|------|
|           |      |      |

## 接口信息

状态接口：

| 接口参数   | 接口映射关系                  |
|--------|-------------------------|
| 任务启动标志 | `task.flag_task_start`  |
| 任务结束标志 | `task.flag_task_finish` |
| 运行比例   | `rehab.motion_ratio`    |

指令接口：

- 大腿长度 在算法运算中只能输入一个值，因此取左右大腿长度的均值。因此，传参时传入两个，但是实际只会取均值去使用。
- 小腿长度 在算法运算中只能输入一个值，因此取左右小腿长度的均值。因此，传参时传入两个，但是实际只会取均值去使用。

| 接口参数      | 接口映射关系                                                                                   |
|-----------|------------------------------------------------------------------------------------------|
| 大腿长度      | `grx.virtual_user_upper_leg_length_left`, `grx.virtual_user_upper_leg_length_right`, 取均值 |
| 小腿长度      | `grx.virtual_user_lower_leg_length_left`, `grx.virtual_user_lower_leg_length_right`, 取均值 |
| 左腿膝关节受限角度 | `grx.virtual_user_knee_restriction_left`                                                 |
| 右腿膝关节受限角度 | `grx.virtual_user_knee_restriction_right`                                                |

## 更新日志

- `fourier-grx` v1.0.0 版本新增该功能。